<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="/templates/templateAdministrateur.xhtml">
	<ui:define name="body">
		<h:form id="form">
			<h1 class="page-title">COMPLEMENT SCOLARITE</h1>
			<p:messages autoUpdate="true" closable="true" showDetail="false" />
			<div class="widget-content">
			<p:panel header="Enregistrement">
			
			<table>
  <tr>
    <td>
    
    <h:panelGrid columns="2" cellpadding="1">
    <p:inputText id="matricule" value="#{etablisScolariteBean.matriculeRecherche}" placeholder="Recherche par le matricule" />
			<p:commandButton actionListener="#{etablisScolariteBean.rechercher}" partialSubmit="true" process="@this,matricule" update="form" icon="ui-icon-search"></p:commandButton>
    </h:panelGrid>
    </td>
    <td>
    <p:dataTable id="table" selectionMode="single" var="tata"
						value="#{etablisScolariteBean.listInscription}" selection="#{etablisScolariteBean.selectedInscription}"
						rowKey="#{tata.codeInscription}" emptyMessage="Aucun enregistrement">
						<p:ajax event="rowSelect" listener="#{etablisScolariteBean.selectionner}" update=":form" />
						<f:facet name="header">LISTE DES ETUDIANTS</f:facet>
						<p:column headerText="Nom" style="width:20%">#{tata.etudiants.nomEtudiant}</p:column>
						<p:column headerText="Prenoms" style="width:50%">#{tata.etudiants.prenomEtudiant}</p:column>
						<p:column headerText="Date Naissance" style="width:30%">#{tata.etudiants.datenais}</p:column>
						<p:column headerText="Nationalité" style="width:30%">#{tata.etudiants.nationalites.libnationalite}</p:column>
					</p:dataTable>
    </td>
  </tr>
</table>

	<fieldset>
	
				<legend>Informations de base</legend>		
					<table>
					  <tr valign="top">
					    <td>
					    <h:panelGrid id="annee_grid" columns="4" cellpadding="6">
						<p:outputLabel for="name" value="Nom:" />
						<p:inputText id="name" value="#{etablisScolariteBean.etudiants.nomEtudiant}" readonly="true"  />
						
						<p:outputLabel for="pren" value="Prenoms" styleClass="outputDecalage"/>
						<p:inputText id="pren" value="#{etablisScolariteBean.etudiants.prenomEtudiant}" readonly="true" />
						
						<p:outputLabel for="dat_nais" value="Date naissance" />
						<p:inputText id="dat_nais" value="#{etablisScolariteBean.etudiants.datenais}" pattern="dd/MM/yyyy">
						<f:convertDateTime pattern="dd/MM/yyyy"></f:convertDateTime>
						</p:inputText>
						
						<p:outputLabel for="ses" value="Session" styleClass="outputDecalage"/>
						<p:inputText id="ses" value="#{etablisScolariteBean.inscriptions.section.abrevSection}" />
</h:panelGrid>
			 </td>
			<td align="right">
					<p:graphicImage id="graphIm" value="#{etablisScolariteBean.content}" height="110" width="110"></p:graphicImage>	
					 </td>
					  </tr>
			</table>	
	</fieldset>				
			<fieldset>
				<legend>Frais ecolage</legend>
					<h:panelGrid id="ecolage_gid" columns="4" cellpadding="8">
					<p:outputLabel for="fr_ecol" value="Frais ecolage:" />
					<p:inputText id="fr_ecol" value="#{etablisScolariteBean.etablScolarite.montantEcolageSco}" />
					
					<p:outputLabel for="check" value="Frais ecolage:" />
					<p:selectBooleanCheckbox id="check" value="#{etablisScolariteBean.etatReduction}" itemLabel="Appliquer réduction">
             
            
            <p:outputLabel for="p_reduc" value="Frais ecolage:" styleClass="outputDecalage" />
					<p:inputText id="p_reduc" value="#{etablisScolariteBean.etablScolarite.tauxReduction}" />
					
			<p:outputLabel for="mt_reduct" value="Frais ecolage:" />
			<p:inputText id="mt_reduct" value=" " />
			
			<p:outputLabel for="lib_reduc" value="Frais ecolage:" styleClass="outputDecalage" />
			<p:inputText id="lib_reduc" value="#{etablisScolariteBean.etablScolarite.libeleReduction}" />
			
        </p:selectBooleanCheckbox>
			</h:panelGrid>
			</fieldset>
			
	<legend>Frais annexes</legend>
				<h:panelGrid id="annex_grid" columns="4" cellpadding="6">
				<p:outputLabel for="assur" value="Assurance:" styleClass="outputDecalage" />
				<p:inputText id="assur" value="#{etablisScolariteBean.etablScolarite.fraisAssuranceSco}" />
				
				<p:outputLabel for="t_complet" value="Tenue complet" styleClass="outputDecalage" />
				<p:inputText id="t_complet" value="#{etablisScolariteBean.etablScolarite.fraisTenueCompletSco}" />
				
				<p:outputLabel for="t_sport" value="Tenue sport" styleClass="outputDecalage" />
				<p:inputText id="t_sport" value="#{etablisScolariteBean.etablScolarite.fraisTenueSportSco}" />
				
				<p:outputLabel for="f_resto" value="restauration:" styleClass="outputDecalage" />
				<p:inputText id="f_resto" value="#{etablisScolariteBean.etablScolarite.fraisRestaurationSco}" />
				
				<p:outputLabel for="f_elearning" value="E-learning:" styleClass="outputDecalage" />
				<p:inputText id="f_elearning" value="#{etablisScolariteBean.etablScolarite.fraisElearningSco}" />
				
				<p:outputLabel for="f_medical" value="Viste médicale:" styleClass="outputDecalage" />
				<p:inputText id="f_medical" value="#{etablisScolariteBean.etablScolarite.fraisVisiteMedicSco}" />
				
				<p:outputLabel for="f_ordi" value="Ordianteur:" styleClass="outputDecalage" />
				<p:inputText id="f_ordi" value="#{etablisScolariteBean.etablScolarite.fraisOrdinateurSco}" />
				
				<p:outputLabel for="f_autre" value="Autres:" styleClass="outputDecalage" />
				<p:inputText id="f_autre" value="#{etablisScolariteBean.etablScolarite.autreFraisSco}" />
			</h:panelGrid>			
					<p:toolbar >
			<f:facet name="right">
				<p:commandButton value="Enregistrer" action="#{etablisScolariteBean.enregistrer}"  binding="#{etablisScolariteBean.btnValider}" update="form"></p:commandButton>
				<p:commandButton value="Annuler" action="#{etablisScolariteBean.annuler}" binding="#{etablisScolariteBean.btnAnuler}" update="form" process="@this"> </p:commandButton>
			</f:facet>
		</p:toolbar>
					
					
				</p:panel>

				<br />

				

			</div>
			<!-- Boite de confirmation -->
			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<p:commandButton value="Oui" type="button"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
				<p:commandButton value="Non" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
			</p:confirmDialog>
		</h:form>
	</ui:define>
</ui:composition>

</html>