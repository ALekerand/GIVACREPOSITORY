<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="/templates/templateAdministrateur.xhtml">
	<ui:define name="body">
		<h:form id="form">
			<h1 class="page-title">PARAMETRAGE DES FRAIS SCOLAIRES</h1>
			<p:messages autoUpdate="true" closable="true" showDetail="false" />
			<div class="widget-content">

				<!-- WIZARD ICI -->
				<p:wizard id="wiz" flowListener="#{fraisScolaireBean.onFlowProcess}">
					<p:tab id="tab_mention" title="Mention">
						<p:panel header="Mention">
							<h:panelGrid id="mention_grid" columns="2" cellpadding="6">

								<p:outputLabel for="cb_ecol" value="Ecole" />
								<p:selectOneMenu id="cb_ecol" required="true"
									value="#{fraisScolaireBean.choosedEcole}"
									converter="#{entityConverter}">
									<p:ajax listener="#{fraisScolaireBean.chargerFiliere}" event="change"
										update="cb_filiere" process="@this">
									</p:ajax>
									
									<f:selectItem itemLabel="Selectionnez" itemValue="" />
									<f:selectItems value="#{fraisScolaireBean.listEcole}" var="tata"
									itemLabel="#{tata.abrevEcole}" itemValue="#{tata}"></f:selectItems>
								</p:selectOneMenu>								
								
								<p:outputLabel for="cb_filiere" value="Filière" />
								<p:selectOneMenu id="cb_filiere" required="true"
									value="#{fraisScolaireBean.choosedFiliere}"
									converter="#{entityConverter}">
									
									<p:ajax listener="#{fraisScolaireBean.chargerMention}" event="change"
										update="cb_mention" process="@this">
									</p:ajax>
									
									<f:selectItem itemLabel="Selectionnez" itemValue="" />
									<f:selectItems value="#{fraisScolaireBean.listFiliere}" var="tata"
										itemLabel="#{tata.abrevFiliere}" itemValue="#{tata}"></f:selectItems>
								</p:selectOneMenu>
								
								
								<p:outputLabel for="cb_mention" value="Mention" />
								<p:selectOneMenu id="cb_mention" required="true"
									value="#{fraisScolaireBean.choosedMention}"
									converter="#{entityConverter}" >
									<f:selectItem itemLabel="Selectionnez" itemValue="" />
									<f:selectItems value="#{fraisScolaireBean.listeMention}" var="tata"
										itemLabel="#{tata.libMention}" itemValue="#{tata}"></f:selectItems>
								</p:selectOneMenu>
							</h:panelGrid>
						</p:panel>
					</p:tab>

					<p:tab id="nationaux" title="Nationaux">
						<p:panel header="Frais Ecolage Nationaux">
							<h:panelGrid id="nfrais_grid" columns="4" cellpadding="6">
							<p:outputLabel value="Montant Ecolage:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNation.montantEcolage}" styleClass="upercase">
							<p:ajax listener="#{fraisScolaireBean.repartirVersNation}" event="blur"
										update="nfrais_grid" process="@this">
									</p:ajax>
							</p:inputText>
							
							<p:outputLabel/>
							<p:outputLabel/>
							
							<p:outputLabel value="1er versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNation.mtEchance1}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNation.dateEchance1}" 
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/>
							
							<p:outputLabel value="2e versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNation.mtEchance2}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNation.dateEchance2}"
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/>
							
							<p:outputLabel value="3e versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNation.mtEchance3}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNation.dateEchance3}"
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/>
							
							<p:outputLabel value="4e versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNation.mtEchance4}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNation.dateEchance4}"
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/> 
							</h:panelGrid>
						</p:panel>
						
						 <p:panel header="Frais Annexes Nationaux">
							<h:panelGrid id="nmontant_grid" columns="4" cellpadding="6">
							
							<p:outputLabel value="Droit Inscription:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNation.fraisInscription}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Assurance:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNation.fraisAssurance}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Tenue Complète:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNation.fraisTenueComplet}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Tenue Sport:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNation.fraisTenueSport}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Restauration"/>
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNation.fraisRestauration}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Examen" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNation.fraisExamen}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais E-Learning" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNation.fraisElearning}" styleClass="upercase"/>
							</h:panelGrid>
						</p:panel> 
					</p:tab>

					 <p:tab id="non_nationaux" title="Non nationaux">
						<p:panel header="Frais Ecolage Non Nationaux">
							<h:panelGrid id="nnfrais_grid" columns="4" cellpadding="6">
							
							<p:outputLabel value="Montant Ecolage:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNonNation.montantEcolage}" styleClass="upercase">
							<p:ajax listener="#{fraisScolaireBean.repartirVersNonNation}" event="blur"
										update="nnfrais_grid" process="@this">
									</p:ajax>
							</p:inputText>		
									
							<p:outputLabel/>
							<p:outputLabel/>
							
							<p:outputLabel value="1er versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNonNation.mtEchance1}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNonNation.dateEchance1}"
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/>
							
							<p:outputLabel value="2e versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNonNation.mtEchance2}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNonNation.dateEchance2}"
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/>
							
							<p:outputLabel value="3e versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNonNation.mtEchance3}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNonNation.dateEchance3}"
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/>
							
							<p:outputLabel value="4e versement:" />
							<p:inputText value="#{fraisScolaireBean.ecolageNonNation.mtEchance4}" readonly="true"/>
							<p:outputLabel value="Date:" />
							<p:calendar value="#{fraisScolaireBean.ecolageNonNation.dateEchance4}"
							locale="fr" navigator="true" pattern="dd/MM/yyyy" required="true"/> 
							</h:panelGrid>
						</p:panel>
						
						<p:panel header="Frais Annexes Non Nationaux">
							<h:panelGrid id="nnmontant_grid" columns="4" cellpadding="6">
							
							<p:outputLabel value="Droit Inscription:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNonNation.fraisInscription}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Assurance:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNonNation.fraisAssurance}" styleClass="upercase"/>
							
							
							<p:outputLabel value="Frais Tenue Complète:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNonNation.fraisTenueComplet}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Tenue Sport:" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNonNation.fraisTenueSport}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Restauration"/>
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNonNation.fraisRestauration}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais Examen" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNonNation.fraisExamen}" styleClass="upercase"/>
							
							<p:outputLabel value="Frais E-Learning" />
							<p:inputText value="#{fraisScolaireBean.fraisAnnexeNonNation.fraisElearning}" styleClass="upercase"/>
							</h:panelGrid>
						</p:panel>


                          <p:commandButton value="ENREGISTRER" action="#{fraisScolaireBean.enregistrer}"  />

					</p:tab> 
					
				</p:wizard>
			</div>
			
			<!-- Boite de confirmation -->
			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<p:commandButton value="Oui" type="button"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
				<p:commandButton value="Non" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
			</p:confirmDialog>
		</h:form>
	</ui:define>
</ui:composition>

</html>